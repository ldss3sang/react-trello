(this["webpackJsonpreact-trello"]=this["webpackJsonpreact-trello"]||[]).push([[0],{11:function(e,t,a){e.exports=a(26)},16:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),l=a.n(r),d=(a(16),a(3)),s=a(4),o=a(1),c=a(6),u=a(5),h=a(10),p=a.n(h),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=-1;for(var a in e)e[a].number>t&&(t=e[a].number);return t+1},v=function(){return p.a.generate()},C=a(2),f=function(e){return e.text?i.a.createElement("span",{className:"tag"},e.text):null},b=function(e){return i.a.createElement("div",{className:"card"},i.a.createElement("div",{style:{marginBottom:"5px"}},e.tags.map((function(e,t){return i.a.createElement(f,{key:t,text:e})}))),i.a.createElement("p",{style:{margin:"0px"}},"#".concat(e.number," ").concat(e.description)))},y=function(e){var t;return i.a.createElement("button",{className:"btn btn-".concat(e.variant),onClick:e.onClick},null!==(t=e.icon)&&void 0!==t?t:null,i.a.createElement("span",null,e.text))},g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).formRef=i.a.createRef(),n.controlRef=i.a.createRef(),n.state={text:e.initialValue},n.handleOnChangeText=n.handleOnChangeText.bind(Object(o.a)(n)),n.handleOnSubmit=n.handleOnSubmit.bind(Object(o.a)(n)),n.handleOnKeyDown=n.handleOnKeyDown.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){null!==this.controlRef.current&&this.controlRef.current.focus()}},{key:"handleOnChangeText",value:function(e){this.setState({text:e.target.value})}},{key:"handleOnSubmit",value:function(e){e.preventDefault(),this.props.onClickSubmit(this.state.text),this.setState({text:""})}},{key:"handleOnKeyDown",value:function(e){"Enter"===e.key&&this.handleOnSubmit(e)}},{key:"render",value:function(){return i.a.createElement("form",{ref:this.formRef,className:"form form-".concat(this.props.type)},"list"===this.props.type||"labels"===this.props.type?i.a.createElement("input",{type:"text",value:this.state.text,placeholder:this.props.placeholder,onChange:this.handleOnChangeText,className:"form-input",ref:this.controlRef}):i.a.createElement("textarea",{type:"text",value:this.state.text,placeholder:this.props.placeholder,onChange:this.handleOnChangeText,className:"form-textarea",onKeyDown:this.handleOnKeyDown,ref:this.controlRef}),i.a.createElement("div",{className:"form-actions"},i.a.createElement(y,{text:this.props.buttonText,onClick:this.handleOnSubmit,variant:"success"}),this.props.onClickCancel&&i.a.createElement(C.d,{className:"form-cancel-action",onClick:this.props.onClickCancel})))}}]),a}(n.Component);g.defaultProps={initialValue:"",placeholder:"",buttonText:"",onClickSubmit:function(){return null}};var E=g;var k=function(e){var t,a,r=e.title,l=void 0===r?"":r,d=e.children,s=void 0===d?null:d,o=e.onClickOutside,c=void 0===o?function(){return null}:o,u=e.offset,h=void 0===u?{}:u,p=Object(n.useRef)(null);return function(e,t){var a=Object(n.useCallback)((function(a){var n;(null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.contains(a.target))||"function"!==typeof t||t()}),[e,t]);Object(n.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[a])}(p,c),i.a.createElement("div",{ref:p,className:"popover",style:{marginTop:"".concat(null!==(t=null===h||void 0===h?void 0:h.top)&&void 0!==t?t:0,"px"),marginLeft:"".concat(null!==(a=null===h||void 0===h?void 0:h.left)&&void 0!==a?a:0,"px")}},l?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"popover-header"},i.a.createElement("h4",null,l)),i.a.createElement("hr",{className:"divider"})):null,s)},O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).editorRef=i.a.createRef(),n.state={isLabelEditOpen:!1,closeOnlyLabel:!1},n.handleOutsideClick=n.handleOutsideClick.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"handleOutsideClick",value:function(e){this.editorRef.current.contains(e.target)||(this.state.closeOnlyLabel?this.setState({closeOnlyLabel:!1}):this.props.onClickOutside())}},{key:"render",value:function(){var e,t,a,n,r,l,d=this;return i.a.createElement("div",{className:"editor-modal",onClick:this.handleOutsideClick},i.a.createElement("div",{ref:this.editorRef,style:{display:"flex",flexDirection:"row",position:"absolute",top:"".concat(null!==(e=null===(t=this.props)||void 0===t||null===(a=t.position)||void 0===a?void 0:a.top)&&void 0!==e?e:0,"px"),left:"".concat(null!==(n=null===(r=this.props)||void 0===r||null===(l=r.position)||void 0===l?void 0:l.left)&&void 0!==n?n:0,"px")}},i.a.createElement("div",null,i.a.createElement(E,{type:"editor",initialValue:this.props.initialValue,buttonText:"Save",onClickSubmit:this.props.onSaveCard})),i.a.createElement("ul",{className:"editor-actions"},i.a.createElement("li",{className:"editor-action"},i.a.createElement(y,{text:"Edit Labels",icon:i.a.createElement(C.f,null),variant:"editor",onClick:function(){return d.setState({isLabelEditOpen:!0})}})),i.a.createElement("li",{className:"editor-action"},i.a.createElement(y,{text:"Copy",icon:i.a.createElement(C.e,null),variant:"editor",onClick:this.props.onCopyCard})),i.a.createElement("li",{className:"editor-action"},i.a.createElement(y,{text:"Archive",icon:i.a.createElement(C.c,null),variant:"editor",onClick:this.props.onArchiveCard})),this.state.isLabelEditOpen&&i.a.createElement(k,{title:"Labels",onClickOutside:function(){return d.setState({isLabelEditOpen:!1,closeOnlyLabel:!0})},offset:{top:-119}},i.a.createElement("div",null,i.a.createElement("ul",{className:"labels"},this.props.tags.map((function(e,t){return i.a.createElement("li",{key:t,className:"label",onClick:function(){return d.props.onRemoveTag(t)}},i.a.createElement(C.d,null),i.a.createElement("p",null,e))}))),i.a.createElement("h4",{className:"new-label-title"},"Add a new label"),i.a.createElement(E,{type:"labels",placeholder:"Enter a name for this label...",buttonText:"Add",onClickSubmit:this.props.onAddTag}))))))}}]),a}(n.Component);O.defaultProps={initialValue:"",tags:[],position:null,onSaveCard:function(){return null},onRemoveTag:function(){return null},onAddTag:function(){return null},onCopyCard:function(){return null},onArchiveCard:function(){return null},onClickOutside:function(){return null}};var R=O,A=function(e){return i.a.createElement("div",{className:"menu"},i.a.createElement(C.a,{onClick:e.onClick}),e.isOpen&&i.a.createElement(k,{title:"List Actions",onClickOutside:e.onClick},e.actions.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("ul",{className:"menu-actions"},e.map((function(e,t){var a=e.title,n=e.onClick;return i.a.createElement("li",{className:"menu-action",key:t,onClick:n},i.a.createElement("p",null,a))}))),i.a.createElement("hr",{className:"divider"}))}))))},T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={creatingNewCard:!1,editCardId:null,editCardText:"",editCardTags:[]},n.cardRefs={},n.actions=[[{title:"Add Card...",onClick:function(){n.props.onToggleMenu(n.props.id),n.setState({creatingNewCard:!0})}},{title:"Copy List...",onClick:function(){return n.props.onCopyList(n.props.id)}}],[{title:"Move All Cards in This List...",onClick:function(){return n.props.onMoveAllCards(n.props.id)}},{title:"Archive All Cards in This List...",onClick:function(){return n.props.onRemoveAllCards(n.props.id)}}],[{title:"Archive This List",onClick:function(){return n.props.onRemoveList(n.props.id)}}]],n.handleAddNewCard=n.handleAddNewCard.bind(Object(o.a)(n)),n.handleCancelNewCard=n.handleCancelNewCard.bind(Object(o.a)(n)),n.handleCreateNewCard=n.handleCreateNewCard.bind(Object(o.a)(n)),n.handleEditCard=n.handleEditCard.bind(Object(o.a)(n)),n.handleCancelEdit=n.handleCancelEdit.bind(Object(o.a)(n)),n.handleCopyCard=n.handleCopyCard.bind(Object(o.a)(n)),n.handleSaveCard=n.handleSaveCard.bind(Object(o.a)(n)),n.handleArchiveCard=n.handleArchiveCard.bind(Object(o.a)(n)),n.handleRemoveTag=n.handleRemoveTag.bind(Object(o.a)(n)),n.handleAddTag=n.handleAddTag.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"handleAddNewCard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e&&this.props.onAddCard(this.props.id,e),this.handleCancelNewCard()}},{key:"handleCancelNewCard",value:function(){this.setState({creatingNewCard:!1})}},{key:"handleCreateNewCard",value:function(){this.setState({creatingNewCard:!0})}},{key:"handleEditCard",value:function(e,t,a){this.setState({editCardId:e,editCardText:t,editCardTags:a})}},{key:"handleCancelEdit",value:function(){this.setState({editCardId:null,editCardText:"",editCardTags:[]})}},{key:"handleCopyCard",value:function(){this.props.onCopyCard(this.props.id,this.state.editCardId),this.handleCancelEdit()}},{key:"handleArchiveCard",value:function(){this.props.onRemoveCard(this.props.id,this.state.editCardId),this.handleCancelEdit()}},{key:"handleSaveCard",value:function(e){this.props.onEditCard(this.state.editCardId,e),this.handleCancelEdit()}},{key:"handleRemoveTag",value:function(e){this.props.onRemoveTag(this.state.editCardId,e)}},{key:"handleAddTag",value:function(e){e&&this.props.onAddTag(this.state.editCardId,e)}},{key:"renderHeader",value:function(){var e=this,t=this.props,a=t.title,n=t.cards;return i.a.createElement("div",{className:"cards-list-header"},i.a.createElement("div",{className:"cards-list-title"},i.a.createElement("h3",null,a),i.a.createElement(A,{isOpen:this.props.isMenuOpen,onClick:function(){return e.props.onToggleMenu(e.props.id)},actions:this.actions})),i.a.createElement("p",null,n.length," cards"))}},{key:"renderCards",value:function(){var e=this;return i.a.createElement("div",{className:"cards"},this.props.cards.map((function(t,a){var n=t.id,r=t.number,l=t.description,d=t.tags;return i.a.createElement("li",{key:n,onClick:function(){return e.handleEditCard(n,l,d)},ref:function(t){t&&(e.cardRefs[n]=t)}},i.a.createElement(b,{id:n,number:r,description:l,tags:d}))})))}},{key:"renderFooter",value:function(){return this.state.creatingNewCard?i.a.createElement(E,{type:"card",placeholder:"Enter a title for this card...",buttonText:"Add Card",onClickSubmit:this.handleAddNewCard,onClickCancel:this.handleCancelNewCard}):i.a.createElement("button",{className:"add-button add-card-button",onClick:this.handleCreateNewCard},i.a.createElement(C.b,null),i.a.createElement("p",null,"Add a new card"))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"cards-list"},this.renderHeader(),this.renderCards(),this.renderFooter(),this.state.editCardId&&i.a.createElement(R,{initialValue:this.state.editCardText,tags:this.state.editCardTags,position:{top:this.cardRefs[this.state.editCardId].getBoundingClientRect().top,left:this.cardRefs[this.state.editCardId].getBoundingClientRect().left},onSaveCard:this.handleSaveCard,onRemoveTag:this.handleRemoveTag,onAddTag:this.handleAddTag,onCopyCard:this.handleCopyCard,onArchiveCard:this.handleArchiveCard,onClickOutside:function(){return e.handleCancelEdit()}}))}}]),a}(n.Component);T.defaultProps={cards:null,isMenuOpen:!1,onToggleMenu:function(){return null},onAddCard:function(){return null},onRemoveCard:function(){return null},onRemoveList:function(){return null},onRemoveAllCards:function(){return null},onCopyList:function(){return null},onMoveAllCards:function(){return null},onCopyCard:function(){return null},onEditCard:function(){return null},onRemoveTag:function(){return null},onAddTag:function(){return null}};var N=T,w={cards:{k9atfadyp:{id:"k9atfadyp",number:1,description:"Create reusable React components",tags:["Priority: Medium","React"]},"8wu6w8mxg":{id:"8wu6w8mxg",number:2,description:"Learn React Hooks",tags:["React","Hooks"]},c96h9478v:{id:"c96h9478v",number:3,description:"Create Beautiful Drag and Drop Capability",tags:["Priority: Low","react-beautiful-dnd"]},rtwf8u120:{id:"rtwf8u120",number:4,description:"Learn React",tags:["Priority: High","React"]},vt6udjrpz:{id:"vt6udjrpz",number:5,description:"Write my first React component",tags:["Priority: Medium"]},ftrch98nt:{id:"ftrch98nt",number:6,description:"Create React App",tags:["Priority: Medium","create-react-app"]},bionb64f7:{id:"bionb64f7",number:7,description:"Write my first React component",tags:["Priority: Medium"]}},lists:{f0y88ej8u:{id:"f0y88ej8u",title:"Product Backlog",cardIds:["k9atfadyp","8wu6w8mxg","c96h9478v"]},"1528b8oyp":{id:"1528b8oyp",title:"Work In Progress",cardIds:["rtwf8u120","vt6udjrpz"]},yu0myoowp:{id:"yu0myoowp",title:"Done",cardIds:["ftrch98nt","bionb64f7"]}},listOrder:["f0y88ej8u","1528b8oyp","yu0myoowp"]},L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={lists:{},cards:{},listOrder:[],newListText:"",creatingNewList:!1,openMenuId:null},n.handleAddList=n.handleAddList.bind(Object(o.a)(n)),n.handleRemoveList=n.handleRemoveList.bind(Object(o.a)(n)),n.handleAddCard=n.handleAddCard.bind(Object(o.a)(n)),n.handleRemoveCard=n.handleRemoveCard.bind(Object(o.a)(n)),n.handleRemoveAllCards=n.handleRemoveAllCards.bind(Object(o.a)(n)),n.handleCopyCard=n.handleCopyCard.bind(Object(o.a)(n)),n.handleCopyList=n.handleCopyList.bind(Object(o.a)(n)),n.handleMoveAllCards=n.handleMoveAllCards.bind(Object(o.a)(n)),n.handleToggleMenu=n.handleToggleMenu.bind(Object(o.a)(n)),n.handleEditCard=n.handleEditCard.bind(Object(o.a)(n)),n.handleRemoveTag=n.handleRemoveTag.bind(Object(o.a)(n)),n.handleAddTag=n.handleAddTag.bind(Object(o.a)(n)),n.renderLists=n.renderLists.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({lists:w.lists,cards:w.cards,listOrder:w.listOrder})}},{key:"handleAddList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.trim()){var t=v(),a=this.state,n=a.lists,i=a.listOrder;n[t]={id:t,title:e,cardIds:[]},i.push(t),this.setState({lists:n,listOrder:i,newListText:"",creatingNewList:!1})}else this.setState({newListText:"",creatingNewList:!1})}},{key:"handleRemoveList",value:function(e){var t=this.state,a=t.lists,n=t.listOrder,i=t.cards;a[e].cardIds.map((function(e){return delete i[e]})),delete a[e];var r=n.indexOf(e);r>-1&&n.splice(r,1),this.setState({lists:a,cards:i,listOrder:n})}},{key:"handleAddCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.trim()){var a=this.state,n=a.lists,i=a.cards,r=v(),l=m(i);i[r]={id:r,number:l,description:t,tags:[]},n[e].cardIds.push(r),this.setState({lists:n,cards:i})}}},{key:"handleRemoveCard",value:function(e,t){var a=this.state,n=a.lists,i=a.cards;delete i[t];var r=n[e].cardIds.indexOf(t);r>-1&&n[e].cardIds.splice(r,1),this.setState({lists:n,cards:i})}},{key:"handleRemoveAllCards",value:function(e){var t=this.state,a=t.lists,n=t.cards;a[e].cardIds.map((function(e){return delete n[e]})),a[e].cardIds=[],this.setState({lists:a,cards:n,openMenuId:null})}},{key:"handleCopyCard",value:function(e,t){var a=this.state,n=a.lists,i=a.cards,r=v(),l=m(i);i[r]={id:r,number:l,description:i[t].description,tags:i[t].tags},n[e].cardIds.push(r),this.setState({lists:n,cards:i})}},{key:"handleCopyList",value:function(e){var t=this.state,a=t.lists,n=t.cards,i=t.listOrder,r=a[e].cardIds.map((function(e){var t=n[e],a=v(),i=m(n);return n[a]={id:a,number:i,description:t.description,tags:t.tags},a})),l=v();a[l]={id:l,title:"(Copy) - ".concat(a[e].title),cardIds:r},i.push(l),this.setState({lists:a,cards:n,listOrder:i,openMenuId:null})}},{key:"handleMoveAllCards",value:function(e){var t=this.state,a=t.lists,n=t.cards;for(var i in a)a[i].cardIds=i===e?Object.keys(n):[];this.setState({lists:a,openMenuId:null})}},{key:"handleToggleMenu",value:function(e){this.setState({openMenuId:this.state.openMenuId!==e?e:null})}},{key:"handleEditCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.cards;a[e].description=t,this.setState({cards:a})}},{key:"handleRemoveTag",value:function(e,t){var a=this.state.cards;a[e].tags.splice(t,1),this.setState({cards:a})}},{key:"handleAddTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.cards;a[e].tags.push(t),this.setState({cards:a})}},{key:"renderLists",value:function(){var e=this,t=this.state,a=t.listOrder,n=t.lists,r=t.cards;return i.a.createElement("div",{className:"board-lists"},a.map((function(t){var a=n[t].cardIds.map((function(e){return r[e]}));return i.a.createElement("li",{key:t},i.a.createElement(N,{id:t,title:n[t].title,cards:a,isMenuOpen:e.state.openMenuId===t,onToggleMenu:e.handleToggleMenu,onAddCard:e.handleAddCard,onRemoveCard:e.handleRemoveCard,onRemoveList:e.handleRemoveList,onRemoveAllCards:e.handleRemoveAllCards,onCopyList:e.handleCopyList,onMoveAllCards:e.handleMoveAllCards,onCopyCard:e.handleCopyCard,onEditCard:e.handleEditCard,onRemoveTag:e.handleRemoveTag,onAddTag:e.handleAddTag}))})))}},{key:"renderNewList",value:function(){var e=this;return console.log(this.state.creatingNewList),this.state.creatingNewList?i.a.createElement(E,{type:"list",placeholder:"Enter a title for this list...",buttonText:"Add List",onClickSubmit:this.handleAddList,onClickCancel:function(){return e.setState({creatingNewList:!1})}}):i.a.createElement("button",{className:"add-button",onClick:function(){return e.setState({creatingNewList:!0})}},i.a.createElement(C.b,null),i.a.createElement("p",null,"Add a new list"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"board"},this.renderLists(),this.renderNewList())}}]),a}(n.Component),j=function(){return i.a.createElement("header",{className:"app-header"},i.a.createElement("h1",null,"React Trello"))},x=function(){return i.a.createElement("footer",{className:"app-footer"},"Looking for help? Head over to the ",i.a.createElement("a",{href:"https://discord.com/channels/742753758450155662/748890194136137838"},"Discord server")," and ask the community.")};a(25);var S=function(){return i.a.createElement("div",{className:"app"},i.a.createElement(j,null),i.a.createElement(L,null),i.a.createElement(x,null))};l.a.render(i.a.createElement(S,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.99d55676.chunk.js.map